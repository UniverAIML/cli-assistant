# –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ CLI Assistant

## –û–≥–ª—è–¥

CLI Assistant - —Ü–µ —Å—É—á–∞—Å–Ω–∏–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–π –∞—Å–∏—Å—Ç–µ–Ω—Ç –∑ AI –º–æ–∂–ª–∏–≤–æ—Å—Ç—è–º–∏, –ø–æ–±—É–¥–æ–≤–∞–Ω–∏–π –Ω–∞ –º–æ–¥—É–ª—å–Ω—ñ–π –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—ñ. –ü—Ä–æ–µ–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø–∞—Ç—Ç–µ—Ä–Ω–∏ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –≥–Ω—É—á–∫–æ—Å—Ç—ñ, –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–æ—Å—Ç—ñ —Ç–∞ –ø—Ä–æ—Å—Ç–æ—Ç–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏.

## –ö–ª—é—á–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

### 1. –†—ñ–≤–µ–Ω—å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—ó (Presentation Layer)

#### `main.py`
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É –≤ –¥–æ–¥–∞—Ç–æ–∫
- **–§—É–Ω–∫—Ü—ñ—ó**: –ü–∞—Ä—Å–∏–Ω–≥ –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞, –∑–∞–ø—É—Å–∫ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö –º–æ–¥—É–ª—ñ–≤
- **–ü–∞—Ç–µ—Ä–Ω–∏**: Command Pattern –¥–ª—è –æ–±—Ä–æ–±–∫–∏ —Ä—ñ–∑–Ω–∏—Ö –∫–æ–º–∞–Ω–¥

#### `interactive_menu.py`
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ –º–µ–Ω—é –∑ –∫—Ä–∞—Å–∏–≤–∏–º —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
- **–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó**: Rich (—Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è), Questionary (—ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å)
- **–§—É–Ω–∫—Ü—ñ—ó**: –ù–∞–≤—ñ–≥–∞—Ü—ñ—è, —Ñ–æ—Ä–º–∏ –≤–≤–µ–¥–µ–Ω–Ω—è, –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

#### `chat_assistant.py`
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: AI —á–∞—Ç-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **–§—É–Ω–∫—Ü—ñ—ó**: –û–±—Ä–æ–±–∫–∞ –ø—Ä–∏—Ä–æ–¥–Ω–æ—ó –º–æ–≤–∏, –≤–∏–∫–ª–∏–∫ —Ñ—É–Ω–∫—Ü—ñ–π, —ñ—Å—Ç–æ—Ä—ñ—è —Ä–æ–∑–º–æ–≤
- **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è**: –ó ModelManager —Ç–∞ FunctionExecutor

### 2. –†—ñ–≤–µ–Ω—å –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏ (Business Logic Layer)

#### `operations_manager.py`
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –£–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π API –¥–ª—è –≤—Å—ñ—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π
- **–ü–∞—Ç–µ—Ä–Ω–∏**: Facade Pattern
- **–§—É–Ω–∫—Ü—ñ—ó**: 
  - CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏
  - CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ –Ω–æ—Ç–∞—Ç–∫–∞–º–∏
  - –ü–æ—à—É–∫ —Ç–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è
  - –í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö

#### `function_executor.py`
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –í–∏–∫–æ–Ω–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–π –≤–∏–∫–ª–∏–∫–∞–Ω–∏—Ö AI
- **–ü–∞—Ç–µ—Ä–Ω–∏**: Command Pattern
- **–§—É–Ω–∫—Ü—ñ—ó**: –ü–∞—Ä—Å–∏–Ω–≥ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤, –≤–∏–∫–ª–∏–∫ –æ–ø–µ—Ä–∞—Ü—ñ–π, —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

#### `function_definitions.py`
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π –¥–ª—è AI
- **–§—É–Ω–∫—Ü—ñ—ó**: –°—Ö–µ–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤, –æ–ø–∏—Å–∏ —Ñ—É–Ω–∫—Ü—ñ–π, —Å–∏—Å—Ç–µ–º–Ω—ñ –ø—Ä–æ–º–ø—Ç–∏

### 3. –†—ñ–≤–µ–Ω—å AI/ML (AI/ML Layer)

#### `model_manager.py`
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è AI –º–æ–¥–µ–ª—è–º–∏
- **–ü–∞—Ç–µ—Ä–Ω–∏**: Singleton, Strategy Pattern
- **–§—É–Ω–∫—Ü—ñ—ó**:
  - –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö –º–æ–¥–µ–ª–µ–π
  - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ OpenAI API
  - –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
  - –û–±—Ä–æ–±–∫–∞ function calling

#### `config_manager.py`
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é
- **–ü–∞—Ç–µ—Ä–Ω–∏**: Singleton Pattern
- **–§—É–Ω–∫—Ü—ñ—ó**:
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏
  - –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø—ñ–¥ –∑–∞–ª—ñ–∑–æ
  - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ª–æ–≥—É–≤–∞–Ω–Ω—è

### 4. –†—ñ–≤–µ–Ω—å –¥–∞–Ω–∏—Ö (Data Layer)

#### `data_manager.py`
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
- **–ü–∞—Ç–µ—Ä–Ω–∏**: Repository Pattern
- **–§—É–Ω–∫—Ü—ñ—ó**: JSON —Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è, —Ñ–∞–π–ª–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó, –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

#### `contact_models.py`
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ú–æ–¥–µ–ª—ñ –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤
- **–ü–∞—Ç–µ—Ä–Ω–∏**: Value Object, Domain Model
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏**:
  - `Field` - –±–∞–∑–æ–≤–∏–π –∫–ª–∞—Å –ø–æ–ª—ñ–≤
  - `Name`, `Phone`, `Birthday` - —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –ø–æ–ª—è
  - `Record` - –∫–æ–Ω—Ç–∞–∫—Ç
  - `AddressBook` - –∫–æ–ª–µ–∫—Ü—ñ—è –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤

#### `note_models.py`
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ú–æ–¥–µ–ª—ñ –Ω–æ—Ç–∞—Ç–æ–∫
- **–§—É–Ω–∫—Ü—ñ—ó**: –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –Ω–æ—Ç–∞—Ç–∫–∞–º–∏ –∑ —Ç–µ–≥–∞–º–∏ —Ç–∞ —á–∞—Å–æ–≤–∏–º–∏ –º—ñ—Ç–∫–∞–º–∏

## –ü–∞—Ç–µ—Ä–Ω–∏ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è

### 1. Singleton Pattern
- **–î–µ**: `ModelManager`, `ConfigurationManager`
- **–ß–æ–º—É**: –ó–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —î–¥–∏–Ω–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ –¥–ª—è –≤—Å—å–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É

### 2. Strategy Pattern
- **–î–µ**: `ResponseStrategy` (OpenAI vs –ª–æ–∫–∞–ª—å–Ω—ñ –º–æ–¥–µ–ª—ñ)
- **–ß–æ–º—É**: –ì–Ω—É—á–∫–∞ –∑–º—ñ–Ω–∞ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π

### 3. Facade Pattern
- **–î–µ**: `OperationsManager`
- **–ß–æ–º—É**: –°–ø—Ä–æ—â–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π

### 4. Command Pattern
- **–î–µ**: `FunctionExecutor`
- **–ß–æ–º—É**: –Ü–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—è –∑–∞–ø–∏—Ç—ñ–≤ —è–∫ –æ–±'—î–∫—Ç–∏

### 5. Repository Pattern
- **–î–µ**: `DataManager`
- **–ß–æ–º—É**: –ê–±—Å—Ç—Ä–∞–∫—Ü—ñ—è –¥–æ—Å—Ç—É–ø—É –¥–æ –¥–∞–Ω–∏—Ö

## –ü–æ—Ç—ñ–∫ –¥–∞–Ω–∏—Ö

–°–∏—Å—Ç–µ–º–∞ –ø–æ–±—É–¥–æ–≤–∞–Ω–∞ –Ω–∞ –º–æ–¥—É–ª—å–Ω—ñ–π –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—ñ –∑ —á—ñ—Ç–∫–∏–º —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è–º –æ–±–æ–≤'—è–∑–∫—ñ–≤. –ù–∏–∂—á–µ –Ω–∞–≤–µ–¥–µ–Ω—ñ –¥–µ—Ç–∞–ª—å–Ω—ñ —Å—Ö–µ–º–∏ –æ—Å–Ω–æ–≤–Ω–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤ –¥–∞–Ω–∏—Ö.

### 1. –ó–∞–≥–∞–ª—å–Ω–∞ —Å—Ö–µ–º–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

```mermaid
graph TD
    A[–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á] --> B[main.py]
    B --> C[interactive_menu.py]
    B --> D[chat_assistant.py]
    
    C --> E[operations_manager.py]
    D --> F[model_manager.py]
    D --> G[function_executor.py]
    
    F --> H[AI Model/OpenAI]
    G --> E
    
    E --> I[contact_models.py]
    E --> J[note_models.py]
    
    I --> K[data_manager.py]
    J --> K
    
    K --> L[JSON Files]
```

### 2. –î–æ–¥–∞–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç—É —á–µ—Ä–µ–∑ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ –º–µ–Ω—é

```mermaid
sequenceDiagram
    participant User as –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á
    participant Menu as interactive_menu.py
    participant OpsMgr as operations_manager.py
    participant ContactModel as contact_models.py
    participant DataMgr as data_manager.py
    participant JSON as JSON —Ñ–∞–π–ª–∏

    User->>Menu: –í–∏–±–∏—Ä–∞—î "–î–æ–¥–∞—Ç–∏ –∫–æ–Ω—Ç–∞–∫—Ç"
    Menu->>Menu: –ü–æ–∫–∞–∑—É—î —Ñ–æ—Ä–º—É –≤–≤–µ–¥–µ–Ω–Ω—è
    User->>Menu: –í–≤–æ–¥–∏—Ç—å –¥–∞–Ω—ñ (—ñ–º'—è, —Ç–µ–ª–µ—Ñ–æ–Ω, –¥–µ–Ω—å –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è)
    Menu->>Menu: –í–∞–ª—ñ–¥—É—î –≤–≤–µ–¥–µ–Ω–Ω—è
    Menu->>OpsMgr: add_contact(name, phones, birthday)
    OpsMgr->>OpsMgr: –ü–µ—Ä–µ–≤—ñ—Ä—è—î —á–∏ —ñ—Å–Ω—É—î –∫–æ–Ω—Ç–∞–∫—Ç
    OpsMgr->>ContactModel: Record(name)
    ContactModel->>ContactModel: –í–∞–ª—ñ–¥—É—î —ñ–º'—è
    ContactModel-->>OpsMgr: –ü–æ–≤–µ—Ä—Ç–∞—î Record
    OpsMgr->>ContactModel: record.add_phone(phone)
    ContactModel->>ContactModel: –í–∞–ª—ñ–¥—É—î —Ç–µ–ª–µ—Ñ–æ–Ω
    OpsMgr->>ContactModel: record.add_birthday(birthday)
    ContactModel->>ContactModel: –í–∞–ª—ñ–¥—É—î –¥–∞—Ç—É
    OpsMgr->>ContactModel: address_book.add_record(record)
    OpsMgr->>DataMgr: save_data()
    DataMgr->>JSON: –ó–±–µ—Ä—ñ–≥–∞—î –≤ addressbook.json
    JSON-->>DataMgr: –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è
    DataMgr-->>OpsMgr: success: True
    OpsMgr-->>Menu: {"success": True, "message": "–ö–æ–Ω—Ç–∞–∫—Ç –¥–æ–¥–∞–Ω–æ"}
    Menu->>User: –ü–æ–∫–∞–∑—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —É—Å–ø—ñ—Ö
```

### 3. –î–æ–¥–∞–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç—É —á–µ—Ä–µ–∑ AI –∞—Å–∏—Å—Ç–µ–Ω—Ç–∞

```mermaid
sequenceDiagram
    participant User as –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á
    participant Chat as chat_assistant.py
    participant Model as model_manager.py
    participant FuncExec as function_executor.py
    participant OpsMgr as operations_manager.py
    participant ContactModel as contact_models.py
    participant DataMgr as data_manager.py
    participant JSON as JSON —Ñ–∞–π–ª–∏

    User->>Chat: "–î–æ–¥–∞–π –∫–æ–Ω—Ç–∞–∫—Ç –Ü–≤–∞–Ω –∑ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º 1234567890"
    Chat->>Model: process_message(user_input)
    Model->>Model: –ê–Ω–∞–ª—ñ–∑—É—î —Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ AI
    Model-->>Chat: –ü–æ–≤–µ—Ä—Ç–∞—î function_call
    Chat->>Chat: parse_function_call()
    Chat->>FuncExec: execute_function(add_contact, params)
    FuncExec->>OpsMgr: add_contact(name="–Ü–≤–∞–Ω", phones=["1234567890"])
    OpsMgr->>OpsMgr: –ü–µ—Ä–µ–≤—ñ—Ä—è—î —á–∏ —ñ—Å–Ω—É—î –∫–æ–Ω—Ç–∞–∫—Ç
    OpsMgr->>ContactModel: Record("–Ü–≤–∞–Ω")
    ContactModel->>ContactModel: –í–∞–ª—ñ–¥—É—î —ñ–º'—è
    ContactModel-->>OpsMgr: –ü–æ–≤–µ—Ä—Ç–∞—î Record
    OpsMgr->>ContactModel: record.add_phone("1234567890")
    ContactModel->>ContactModel: –í–∞–ª—ñ–¥—É—î —Ç–µ–ª–µ—Ñ–æ–Ω (10 —Ü–∏—Ñ—Ä)
    OpsMgr->>ContactModel: address_book.add_record(record)
    OpsMgr->>DataMgr: save_data()
    DataMgr->>JSON: –ó–±–µ—Ä—ñ–≥–∞—î –≤ addressbook.json
    JSON-->>DataMgr: –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è
    DataMgr-->>OpsMgr: success: True
    OpsMgr-->>FuncExec: {"success": True, "message": "–ö–æ–Ω—Ç–∞–∫—Ç –¥–æ–¥–∞–Ω–æ"}
    FuncExec-->>Chat: –§–æ—Ä–º–∞—Ç—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    Chat->>Model: generate_response(function_result)
    Model-->>Chat: "‚úÖ –ö–æ–Ω—Ç–∞–∫—Ç –Ü–≤–∞–Ω —É—Å–ø—ñ—à–Ω–æ –¥–æ–¥–∞–Ω–æ!"
    Chat->>User: –ü–æ–∫–∞–∑—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥—å –∑ –µ–º–æ–¥–∑—ñ
```

### 4. –ü–æ—à—É–∫ –Ω–æ—Ç–∞—Ç–æ–∫

```mermaid
sequenceDiagram
    participant User as –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á
    participant Interface as –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Menu/Chat)
    participant OpsMgr as operations_manager.py
    participant NoteMgr as note_models.py
    participant Note as Note –æ–±'—î–∫—Ç–∏

    User->>Interface: –ó–∞–ø–∏—Ç –Ω–∞ –ø–æ—à—É–∫ –Ω–æ—Ç–∞—Ç–æ–∫
    Interface->>OpsMgr: search_notes(query="–ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è")
    OpsMgr->>NoteMgr: search_notes(query)
    NoteMgr->>NoteMgr: –ü–µ—Ä–µ—Ç–≤–æ—Ä—é—î query –≤ –Ω–∏–∂–Ω—ñ–π —Ä–µ–≥—ñ—Å—Ç—Ä
    
    loop –î–ª—è –∫–æ–∂–Ω–æ—ó –Ω–æ—Ç–∞—Ç–∫–∏
        NoteMgr->>Note: search_in_content(query)
        Note->>Note: –ü–µ—Ä–µ–≤—ñ—Ä—è—î –∑–∞–≥–æ–ª–æ–≤–æ–∫
        Note->>Note: –ü–µ—Ä–µ–≤—ñ—Ä—è—î –∑–º—ñ—Å—Ç
        Note->>Note: –ü–µ—Ä–µ–≤—ñ—Ä—è—î —Ç–µ–≥–∏
        Note-->>NoteMgr: True/False
        alt –Ø–∫—â–æ –∑–Ω–∞–π–¥–µ–Ω–æ –∑–±—ñ–≥
            NoteMgr->>NoteMgr: –î–æ–¥–∞—î –¥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
        end
    end
    
    NoteMgr-->>OpsMgr: Dict[str, Note] —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏
    OpsMgr-->>Interface: –ü–æ–≤–µ—Ä—Ç–∞—î –∑–Ω–∞–π–¥–µ–Ω—ñ –Ω–æ—Ç–∞—Ç–∫–∏
    Interface->>User: –ü–æ–∫–∞–∑—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø–æ—à—É–∫—É
```

### 5. –ì–ª–æ–±–∞–ª—å–Ω–∏–π –ø–æ—à—É–∫

```mermaid
sequenceDiagram
    participant User as –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á
    participant Interface as –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    participant OpsMgr as operations_manager.py
    participant ContactModel as contact_models.py
    participant NoteMgr as note_models.py

    User->>Interface: –ì–ª–æ–±–∞–ª—å–Ω–∏–π –ø–æ—à—É–∫ "–Ü–≤–∞–Ω"
    Interface->>OpsMgr: global_search(query="–Ü–≤–∞–Ω")
    
    par –ü–∞—Ä–∞–ª–µ–ª—å–Ω–∏–π –ø–æ—à—É–∫
        OpsMgr->>OpsMgr: search_contacts("–Ü–≤–∞–Ω")
        OpsMgr->>ContactModel: –ü–æ—à—É–∫ –≤ —ñ–º–µ–Ω–∞—Ö
        OpsMgr->>ContactModel: –ü–æ—à—É–∫ –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö
        ContactModel-->>OpsMgr: List[Record]
    and
        OpsMgr->>NoteMgr: search_notes("–Ü–≤–∞–Ω")
        NoteMgr->>NoteMgr: –ü–æ—à—É–∫ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö/–∑–º—ñ—Å—Ç—ñ/—Ç–µ–≥–∞—Ö
        NoteMgr-->>OpsMgr: Dict[str, Note]
    end
    
    OpsMgr-->>Interface: {"contacts": [...], "notes": {...}}
    Interface->>User: –ü–æ–∫–∞–∑—É—î –∫–æ–º–±—ñ–Ω–æ–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏
```

## –î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å –ø–æ—Ç–æ–∫—ñ–≤

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç—É —á–µ—Ä–µ–∑ –º–µ–Ω—é

**–ö—Ä–æ–∫ 1: –í–∑–∞—î–º–æ–¥—ñ—è –∑ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º**
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–ø—É—Å–∫–∞—î `main.py` –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
- –°–∏—Å—Ç–µ–º–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ –º–µ–Ω—é –∑ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–æ—é Rich
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∏–±–∏—Ä–∞—î –æ–ø—Ü—ñ—é "–î–æ–¥–∞—Ç–∏ –∫–æ–Ω—Ç–∞–∫—Ç"
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—É—î —Ñ–æ—Ä–º—É –∑ –ø–æ–ª—è–º–∏: —ñ–º'—è (–æ–±–æ–≤'—è–∑–∫–æ–≤–µ), —Ç–µ–ª–µ—Ñ–æ–Ω–∏, –¥–µ–Ω—å –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è

**–ö—Ä–æ–∫ 2: –í–∞–ª—ñ–¥–∞—Ü—ñ—è –Ω–∞ —Ä—ñ–≤–Ω—ñ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É**
- `interactive_menu.py` –ø–µ—Ä–µ–≤—ñ—Ä—è—î —â–æ —ñ–º'—è –Ω–µ –ø—É—Å—Ç–µ
- –ü–æ–ø–µ—Ä–µ–¥–Ω—å–æ –≤–∞–ª—ñ–¥—É—î —Ñ–æ—Ä–º–∞—Ç —Ç–µ–ª–µ—Ñ–æ–Ω—É —Ç–∞ –¥–∞—Ç–∏
- –Ø–∫—â–æ –¥–∞–Ω—ñ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ, –ø–æ–∫–∞–∑—É—î –ø–æ–º–∏–ª–∫—É —Ç–∞ –ø—Ä–æ—Å–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–∏—Ç–∏

**–ö—Ä–æ–∫ 3: –ü–µ—Ä–µ–¥–∞—á–∞ –¥–æ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏**
- –ú–µ–Ω—é –≤–∏–∫–ª–∏–∫–∞—î `operations_manager.add_contact()`
- `OperationsManager` —Å–ª—É–∂–∏—Ç—å Facade –¥–ª—è –≤—Å—ñ—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π
- –ú–µ—Ç–æ–¥ –ø—Ä–∏–π–º–∞—î –ø–∞—Ä–∞–º–µ—Ç—Ä–∏: name, phones (—Å–ø–∏—Å–æ–∫), birthday (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

**–ö—Ä–æ–∫ 4: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞ –∫–æ–Ω—Ç–∞–∫—Ç—É**
- `OperationsManager` –ø–µ—Ä–µ–≤—ñ—Ä—è—î —á–∏ —ñ—Å–Ω—É—î –∫–æ–Ω—Ç–∞–∫—Ç –∑ —Ç–∞–∫–∏–º —ñ–º'—è–º
- –°—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π `Record` –æ–±'—î–∫—Ç —á–µ—Ä–µ–∑ `contact_models.py`
- –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `Record` —Å—Ç–≤–æ—Ä—é—î `Name` –æ–±'—î–∫—Ç –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é

**–ö—Ä–æ–∫ 5: –î–æ–¥–∞–≤–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –ø–æ–ª—ñ–≤**
- –î–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è `record.add_phone()`
- –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è `Phone` –æ–±'—î–∫—Ç –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é (—Ä—ñ–≤–Ω–æ 10 —Ü–∏—Ñ—Ä)
- –Ø–∫—â–æ –≤–∫–∞–∑–∞–Ω–æ –¥–µ–Ω—å –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è, —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è `Birthday` –æ–±'—î–∫—Ç

**–ö—Ä–æ–∫ 6: –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö**
- –ì–æ—Ç–æ–≤–∏–π Record –¥–æ–¥–∞—î—Ç—å—Å—è –¥–æ AddressBook
- –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è `data_manager.save_data()`
- –î–∞–Ω—ñ —Å–µ—Ä—ñ–∞–ª—ñ–∑—É—é—Ç—å—Å—è –≤ JSON —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ —Ñ–∞–π–ª

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç—É —á–µ—Ä–µ–∑ AI –∞—Å–∏—Å—Ç–µ–Ω—Ç–∞

**–ö—Ä–æ–∫ 1: –û–±—Ä–æ–±–∫–∞ –ø—Ä–∏—Ä–æ–¥–Ω–æ—ó –º–æ–≤–∏**
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å —Ç–µ–∫—Å—Ç —Ç–∏–ø—É "–î–æ–¥–∞–π –∫–æ–Ω—Ç–∞–∫—Ç –Ü–≤–∞–Ω –∑ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º 1234567890"
- `chat_assistant.py` –ø–µ—Ä–µ–¥–∞—î —Ç–µ–∫—Å—Ç –¥–æ `model_manager.py`
- AI –º–æ–¥–µ–ª—å (–ª–æ–∫–∞–ª—å–Ω–∞ –∞–±–æ OpenAI) –∞–Ω–∞–ª—ñ–∑—É—î —Ç–µ–∫—Å—Ç —Ç–∞ —Ä–æ–∑–ø—ñ–∑–Ω–∞—î –Ω–∞–º—ñ—Ä

**–ö—Ä–æ–∫ 2: –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –≤–∏–∫–ª–∏–∫—É —Ñ—É–Ω–∫—Ü—ñ—ó**
- –ú–æ–¥–µ–ª—å –ø–æ–≤–µ—Ä—Ç–∞—î —Å—Ç—Ä—É–∫—Ç—É—Ä—É function_call –∑ —Ñ—É–Ω–∫—Ü—ñ—î—é `add_contact`
- `chat_assistant.py` –ø–∞—Ä—Å–∏—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—å —á–µ—Ä–µ–∑ `parse_function_call()`
- –í–∏—Ç—è–≥—É—é—Ç—å—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∏: name="–Ü–≤–∞–Ω", phones=["1234567890"]

**–ö—Ä–æ–∫ 3: –í–∏–∫–æ–Ω–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ—ó**
- `function_executor.py` –æ—Ç—Ä–∏–º—É—î –≤–∏–∫–ª–∏–∫ —Ñ—É–Ω–∫—Ü—ñ—ó
- –í–∞–ª—ñ–¥—É—î –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–≥—ñ–¥–Ω–æ —Å—Ö–µ–º–∏ –∑ `function_definitions.py`
- –í–∏–∫–ª–∏–∫–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π –º–µ—Ç–æ–¥ –≤ `operations_manager.py`

**–ö—Ä–æ–∫ 4-6: –ê–Ω–∞–ª–æ–≥—ñ—á–Ω–æ –∑ –º–µ–Ω—é**
- –î–∞–ª—ñ –ø—Ä–æ—Ü–µ—Å —ñ–¥–µ–Ω—Ç–∏—á–Ω–∏–π –¥–æ–¥–∞–≤–∞–Ω–Ω—é —á–µ—Ä–µ–∑ –º–µ–Ω—é
- –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è Record, –≤–∞–ª—ñ–¥—É—é—Ç—å—Å—è –¥–∞–Ω—ñ, –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ —Ñ–∞–π–ª

**–ö—Ä–æ–∫ 7: –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ**
- –†–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø–µ—Ä–∞—Ü—ñ—ó –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ `chat_assistant.py`
- AI –≥–µ–Ω–µ—Ä—É—î –¥—Ä—É–∂–Ω—é –≤—ñ–¥–ø–æ–≤—ñ–¥—å –∑ –µ–º–æ–¥–∑—ñ
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ç–∏–ø—É "‚úÖ –ö–æ–Ω—Ç–∞–∫—Ç –Ü–≤–∞–Ω —É—Å–ø—ñ—à–Ω–æ –¥–æ–¥–∞–Ω–æ!"

### –ü–æ—à—É–∫ –Ω–æ—Ç–∞—Ç–æ–∫

**–ö—Ä–æ–∫ 1: –ü—Ä–∏–π–æ–º –∑–∞–ø–∏—Ç—É**
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å –ø–æ—à—É–∫–æ–≤–∏–π –∑–∞–ø–∏—Ç (—á–µ—Ä–µ–∑ –º–µ–Ω—é –∞–±–æ —á–∞—Ç)
- –°–∏—Å—Ç–µ–º–∞ –≤–∏–∫–ª–∏–∫–∞—î `operations_manager.search_notes(query)`

**–ö—Ä–æ–∫ 2: –û–±—Ä–æ–±–∫–∞ –∑–∞–ø–∏—Ç—É**
- `OperationsManager` –ø–µ—Ä–µ–¥–∞—î –∑–∞–ø–∏—Ç –¥–æ `NotesManager`
- –ó–∞–ø–∏—Ç –∫–æ–Ω–≤–µ—Ä—Ç—É—î—Ç—å—Å—è –≤ –Ω–∏–∂–Ω—ñ–π —Ä–µ–≥—ñ—Å—Ç—Ä –¥–ª—è –Ω–µ—á—É—Ç–ª–∏–≤–æ–≥–æ –ø–æ—à—É–∫—É

**–ö—Ä–æ–∫ 3: –ü–µ—Ä–µ–±—ñ—Ä –Ω–æ—Ç–∞—Ç–æ–∫**
- –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ –≤—Å—ñ –Ω–æ—Ç–∞—Ç–∫–∏ –≤ `notes_manager.data`
- –î–ª—è –∫–æ–∂–Ω–æ—ó –Ω–æ—Ç–∞—Ç–∫–∏ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è `note.search_in_content(query)`

**–ö—Ä–æ–∫ 4: –ü–æ—à—É–∫ –≤ –ø–æ–ª—è—Ö**
- –ú–µ—Ç–æ–¥ `search_in_content` –ø–µ—Ä–µ–≤—ñ—Ä—è—î:
  - –ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ—Ç–∞—Ç–∫–∏ (—á–∞—Å—Ç–∫–æ–≤–µ —Å–ø—ñ–≤–ø–∞–¥—ñ–Ω–Ω—è)
  - –ó–º—ñ—Å—Ç –Ω–æ—Ç–∞—Ç–∫–∏ (—á–∞—Å—Ç–∫–æ–≤–µ —Å–ø—ñ–≤–ø–∞–¥—ñ–Ω–Ω—è)  
  - –í—Å—ñ —Ç–µ–≥–∏ –Ω–æ—Ç–∞—Ç–∫–∏ (—á–∞—Å—Ç–∫–æ–≤–µ —Å–ø—ñ–≤–ø–∞–¥—ñ–Ω–Ω—è)

**–ö—Ä–æ–∫ 5: –§–æ—Ä–º—É–≤–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤**
- –ù–æ—Ç–∞—Ç–∫–∏ –∑—ñ —Å–ø—ñ–≤–ø–∞–¥—ñ–Ω–Ω—è–º–∏ –¥–æ–¥–∞—é—Ç—å—Å—è –¥–æ —Å–ª–æ–≤–Ω–∏–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
- –ü–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è Dict[str, Note] –¥–µ –∫–ª—é—á - ID –Ω–æ—Ç–∞—Ç–∫–∏

**–ö—Ä–æ–∫ 6: –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è**
- –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—å—Å—è –Ω–∞–∑–∞–¥ –¥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—É—î —Å–ø–∏—Å–æ–∫ –∑–Ω–∞–π–¥–µ–Ω–∏—Ö –Ω–æ—Ç–∞—Ç–æ–∫ –∑ –ø—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è–º

### –ö–ª—é—á–æ–≤—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

1. **–†–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –æ–±–æ–≤'—è–∑–∫—ñ–≤**: –ö–æ–∂–µ–Ω –º–æ–¥—É–ª—å –º–∞—î —á—ñ—Ç–∫–æ –≤–∏–∑–Ω–∞—á–µ–Ω—É —Ä–æ–ª—å
2. **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –Ω–∞ –∫—ñ–ª—å–∫–æ—Ö —Ä—ñ–≤–Ω—è—Ö**: –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Üí –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ ‚Üí –ú–æ–¥–µ–ª—å –¥–∞–Ω–∏—Ö
3. **–¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è**: OperationsManager —è–∫ —î–¥–∏–Ω–∞ —Ç–æ—á–∫–∞ –≤—Ö–æ–¥—É
4. **–ì–Ω—É—á–∫—ñ—Å—Ç—å —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤**: –û–¥–Ω–∞–∫–æ–≤–∞ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ –¥–ª—è –º–µ–Ω—é —Ç–∞ AI
5. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è**: –ö–æ–∂–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—î –∑–º—ñ–Ω–∏

## –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ó–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è
- `USE_OPENAI`: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ OpenAI API –∑–∞–º—ñ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ—ó –º–æ–¥–µ–ª—ñ
- `OPENAI_API_KEY`: API –∫–ª—é—á –¥–ª—è OpenAI
- `OPENAI_MODEL`: –ú–æ–¥–µ–ª—å OpenAI (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º gpt-3.5-turbo)

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏
–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∑–Ω–∞—á–∞—î –æ–ø—Ç–∏–º–∞–ª—å–Ω—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é:
- **CUDA**: Windows/Linux –∑ NVIDIA GPU
- **MPS**: macOS –∑ Apple Silicon
- **CPU**: –†–µ–∑–µ—Ä–≤–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç—ñ–≤
```
tests/
‚îú‚îÄ‚îÄ test_personal_assistant.py     # –û—Å–Ω–æ–≤–Ω—ñ —Ç–µ—Å—Ç–∏
‚îú‚îÄ‚îÄ test_data_manager.py          # –¢–µ—Å—Ç–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–∞–Ω–∏–º–∏
‚îú‚îÄ‚îÄ test_models.py                # –¢–µ—Å—Ç–∏ –º–æ–¥–µ–ª–µ–π
‚îî‚îÄ‚îÄ test_*.py                     # –Ü–Ω—à—ñ —Ç–µ—Å—Ç–∏
```

### –ü—ñ–¥—Ö–æ–¥–∏ –¥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- **Unit Tests**: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –æ–∫—Ä–µ–º–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
- **Integration Tests**: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤–∑–∞—î–º–æ–¥—ñ—ó –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
- **Mock Objects**: –î–ª—è —ñ–∑–æ–ª—è—Ü—ñ—ó –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

## –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π
1. –í–∏–∑–Ω–∞—á–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é –≤ `function_definitions.py`
2. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –≤ `operations_manager.py`
3. –î–æ–¥–∞—Ç–∏ —Ç–µ—Å—Ç–∏

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö AI –º–æ–¥–µ–ª–µ–π
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É —Å—Ç—Ä–∞—Ç–µ–≥—ñ—é –≤ `model_manager.py`
2. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `ResponseStrategy` —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
3. –î–æ–¥–∞—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –≤ `config_manager.py`

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö —Ç–∏–ø—ñ–≤ –¥–∞–Ω–∏—Ö
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ –º–æ–¥–µ–ª—å –≤ `database/`
2. –†–æ–∑—à–∏—Ä–∏—Ç–∏ `data_manager.py`
3. –î–æ–¥–∞—Ç–∏ –æ–ø–µ—Ä–∞—Ü—ñ—ó –≤ `operations_manager.py`

## –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

### –í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –Ω–∞ —Ä—ñ–≤–Ω—ñ –º–æ–¥–µ–ª–µ–π (–ø–æ–ª—è –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤)
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —Ñ—É–Ω–∫—Ü—ñ–π
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∏–ø—ñ–≤ –∑ TypedDict

### –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
- –õ–æ–≥—É–≤–∞–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫
- Graceful degradation
- –Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É

### –ë–µ–∑–ø–µ–∫–∞
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤–≤–µ–¥–µ–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- –û–±–º–µ–∂–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É –¥–æ —Ñ–∞–π–ª—ñ–≤
- –ë–µ–∑–ø–µ—á–Ω–∞ —Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è JSON

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
cli-assistant/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ cli_assistant/                    # –û—Å–Ω–æ–≤–Ω–∏–π –ø–∞–∫–µ—Ç –∞—Å–∏—Å—Ç–µ–Ω—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py                   # –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–∞–∫–µ—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py                       # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É, –ø–∞—Ä—Å–∏–Ω–≥ –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ interactive_menu.py           # –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ –º–µ–Ω—é (Rich + Questionary)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chat_assistant.py             # AI —á–∞—Ç-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ operations_manager.py         # Facade –¥–ª—è –≤—Å—ñ—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ function_executor.py          # –í–∏–∫–æ–Ω–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–π –≤—ñ–¥ AI
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ function_definitions.py       # –°—Ö–µ–º–∏ —Ñ—É–Ω–∫—Ü—ñ–π –¥–ª—è AI
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ model_manager.py              # –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è AI –º–æ–¥–µ–ª—è–º–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config_manager.py             # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ database/                         # –ú–æ–¥—É–ª—å –¥–∞–Ω–∏—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py                   # –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–∞–∫–µ—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ contact_models.py             # –ú–æ–¥–µ–ª—ñ –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ note_models.py                # –ú–æ–¥–µ–ª—ñ –Ω–æ—Ç–∞—Ç–æ–∫
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ data_manager.py               # –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è/–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
‚îÇ   ‚îî‚îÄ‚îÄ personal_assistant.py             # Legacy API (–¥–ª—è —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ)
‚îú‚îÄ‚îÄ tests/                                # –¢–µ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py                       # –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–µ—Å—Ç—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ test_models.py                    # –¢–µ—Å—Ç–∏ –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–∏—Ö
‚îÇ   ‚îú‚îÄ‚îÄ test_data_manager.py              # –¢–µ—Å—Ç–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–∞–Ω–∏–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ test_personal_assistant.py        # –¢–µ—Å—Ç–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É
‚îÇ   ‚îî‚îÄ‚îÄ test_*.py                         # –Ü–Ω—à—ñ —Ç–µ—Å—Ç–∏
‚îú‚îÄ‚îÄ models/                               # –õ–æ–∫–∞–ª—å–Ω—ñ AI –º–æ–¥–µ–ª—ñ
‚îÇ   ‚îî‚îÄ‚îÄ mistral/                          # Mistral –º–æ–¥–µ–ª—å
‚îú‚îÄ‚îÄ pyproject.toml                        # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Poetry
‚îú‚îÄ‚îÄ README.md                             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
‚îú‚îÄ‚îÄ ARCHITECTURE.md                       # –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îî‚îÄ‚îÄ addressbook.json                      # –§–∞–π–ª –∑ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏
```

## –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤

### 1. –†–æ–∑—É–º—ñ–Ω–Ω—è –ø–æ—Ç–æ–∫—É –¥–∞–Ω–∏—Ö
–ü–æ—á–Ω—ñ—Ç—å –∑ –≤–∏–≤—á–µ–Ω–Ω—è `operations_manager.py` - —Ü–µ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —è–∫–∏–π –æ–±'—î–¥–Ω—É—î –≤—Å—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó.

### 2. –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó
```python
# 1. –î–æ–¥–∞—Ç–∏ –≤ function_definitions.py
"new_function": {
    "description": "–û–ø–∏—Å —Ñ—É–Ω–∫—Ü—ñ—ó",
    "parameters": {
        "type": "object",
        "properties": {
            "param1": {"type": "string", "description": "–ü–∞—Ä–∞–º–µ—Ç—Ä 1"}
        },
        "required": ["param1"]
    }
}

# 2. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≤ operations_manager.py
def new_function(self, param1: str) -> Dict[str, Any]:
    try:
        # –õ–æ–≥—ñ–∫–∞ —Ñ—É–Ω–∫—Ü—ñ—ó
        return {"success": True, "message": "–£—Å–ø—ñ—à–Ω–æ –≤–∏–∫–æ–Ω–∞–Ω–æ"}
    except Exception as e:
        return {"success": False, "message": str(e)}

# 3. –î–æ–¥–∞—Ç–∏ —Ç–µ—Å—Ç
def test_new_function():
    ops = OperationsManager()
    result = ops.new_function("test")
    assert result["success"] == True
```

### 3. –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è AI –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π
- –î–æ–¥–∞—Ç–∏ –Ω–æ–≤—É –º–æ–¥–µ–ª—å –≤ `model_manager.py`
- –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `ResponseStrategy` —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –û–Ω–æ–≤–∏—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –≤ `config_manager.py`

### 4. Debugging
- –£–≤—ñ–º–∫–Ω—É—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤ `config_manager.py`
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ `rich.print()` –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –≤–∏–≤–æ–¥—É
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ñ–∞–π–ª–∏ `addressbook.json` —Ç–∞ `addressbook_notes.json`

## –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ü—Ä–æ–≥—Ä–∞–º–Ω–∏–π –¥–æ—Å—Ç—É–ø
```python
from cli_assistant.operations_manager import OperationsManager

ops = OperationsManager()

# –î–æ–¥–∞—Ç–∏ –∫–æ–Ω—Ç–∞–∫—Ç
result = ops.add_contact("–Ü–≤–∞–Ω", ["1234567890"], "01.01.1990")
print(result)  # {"success": True, "message": "Contact added"}

# –ü–æ—à—É–∫ –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤
contacts = ops.search_contacts("–Ü–≤–∞–Ω")
print(f"–ó–Ω–∞–π–¥–µ–Ω–æ {len(contacts)} –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤")

# –î–æ–¥–∞—Ç–∏ –Ω–æ—Ç–∞—Ç–∫—É
note_result = ops.add_note("–Ü–¥–µ—è", "–°—Ç–≤–æ—Ä–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫", ["–ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è"])
print(note_result)  # {"success": True, "note_id": "note_0001"}
```

### –ö–æ–º–∞–Ω–¥–Ω–∏–π —Ä—è–¥–æ–∫
```bash
# –ó–∞–ø—É—Å–∫ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –º–µ–Ω—é
python -m cli_assistant

# –ó–∞–ø—É—Å–∫ AI —á–∞—Ç—É
python -m cli_assistant --chat

# –ó–∞–ø—É—Å–∫ –∑ OpenAI
USE_OPENAI=true OPENAI_API_KEY=your_key python -m cli_assistant --chat
```

–¶—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –∑–∞–±–µ–∑–ø–µ—á—É—î:
- üîÑ **–ú–æ–¥—É–ª—å–Ω—ñ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
- üõ°Ô∏è **–ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å**: –í–∞–ª—ñ–¥–∞—Ü—ñ—è –Ω–∞ –∫—ñ–ª—å–∫–æ—Ö —Ä—ñ–≤–Ω—è—Ö
- üéØ **–ì–Ω—É—á–∫—ñ—Å—Ç—å**: –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä—ñ–∑–Ω–∏—Ö —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤
- üìà **–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å**: –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è
- üß™ **–¢–µ—Å—Ç–æ–≤–∞–Ω—ñ—Å—Ç—å**: –ü–æ–≤–Ω–µ –ø–æ–∫—Ä–∏—Ç—Ç—è —Ç–µ—Å—Ç–∞–º–∏
